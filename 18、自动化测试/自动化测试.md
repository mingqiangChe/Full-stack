# 自动化测试

应用程序测试：检查程序在运行过程的是否正确

利用计算机程序检查软件是否运行正常的测试方法。无数次重复测试



方式： 

​	编写通过浏览器自动执行的程序。

​	直接调用源代码里函数。

​	直接对比程序渲染之后的截图

 

优点：尽早发现程序的bug和不足

增强程序员对程序健壮性 稳定性的信心

改进设计

快速反馈 减少调试时间

促进重构

## 测试

### 单元测试 验证独立单元是否正常工作

对应用程序最小部分运行测试的过程。通常测试单元是函数，但在前端应用中，组件也是被测单元

![image-20220407222524310](自动化测试.assets/image-20220407222524310.png)

#### 优点

提升代码质量，减少bug

快速反馈，减少调试时间

让代码维护更容易

有助于代码模块化设计 

代码覆盖率高

#### 缺点

由于单元测试独立的，无法保证多个单元运行到一起是否正确



#### 常见javascript单元测试框架

Jest

Mocha

Jesmine

Karma

ava

![image-20220407223846438](自动化测试.assets/image-20220407223846438.png)

### 集成测试 验证多个单元协同工作

#### 优点：

由于从用户使用角度出发，更容易获得软件使用过程中的正确性

集成测试相对于写了软件的说明文档

由于不关注底层代码实现细节，更有利于快速重构

相比单元测试，集成测试开发速度更快一些

#### 缺点：

测试失败时候无法快速定位问题

代码覆盖率较低

速度比单元测试要慢



### 端到端测试 从用户角度以机器方式在真实浏览器环境验证应用交互E2E

在前端应用程序中，端到端测试可以从用户视角通过浏览器自动检查应用程序是否正常工作

### 优点：

真实测试环境

#### 缺点：

端到端测试运行不够快

端到端测试的另一个问题就是调试起来比较困难

#### 框架：

Cypress

Nightwatch

WebdriveriO

playwright



### 快照测试  验证程序ui变化



## 如何写测试 怎么写

### 根据情况灵活分配

![image-20220407230938322](自动化测试.assets/image-20220407230938322.png)

![image-20220407231003691](自动化测试.assets/image-20220407231003691.png)





![image-20220407231313086](自动化测试.assets/image-20220407231313086.png)

![image-20220407231442990](自动化测试.assets/image-20220407231442990.png)

![image-20220407231755646](自动化测试.assets/image-20220407231755646.png)



## 测试覆盖率

衡量软件测试完整性一个重要指标；掌握测试覆盖率数据，有利于客观认识软件质量，正确了解测试状态，有效改进测试工作。

### 度量：

#### 代码覆盖率

![image-20220407232117300](自动化测试.assets/image-20220407232117300.png)

![image-20220407232421880](自动化测试.assets/image-20220407232421880.png)





#### 需求覆盖率

![image-20220407232602114](自动化测试.assets/image-20220407232602114.png)

### 总结：

![image-20220407232621269](自动化测试.assets/image-20220407232621269.png)

![image-20220407232754008](自动化测试.assets/image-20220407232754008.png)



## 测试开发方式

### TDD：测试驱动开发 先写测试后实现功能

![image-20220407233043011](自动化测试.assets/image-20220407233043011.png)

![image-20220407233226662](自动化测试.assets/image-20220407233226662.png)





![image-20220407233950951](自动化测试.assets/image-20220407233950951.png)



### 优缺点：

![image-20220407234203568](自动化测试.assets/image-20220407234203568.png)



### BDD：行为驱动开发 先实现功能后写测试

![image-20220407234541267](自动化测试.assets/image-20220407234541267.png)



![image-20220407235050337](自动化测试.assets/image-20220407235050337.png)

![image-20220407235415937](自动化测试.assets/image-20220407235415937.png)

![image-20220408000602721](自动化测试.assets/image-20220408000602721.png)

### 优缺点：

![image-20220408000747285](自动化测试.assets/image-20220408000747285.png)

### TDD VS BDD

![image-20220408001150182](自动化测试.assets/image-20220408001150182.png)



![image-20220408001410287](自动化测试.assets/image-20220408001410287.png)



## 自动化测试的权衡利弊

![image-20220408001524296](自动化测试.assets/image-20220408001524296.png)

![image-20220408001601880](自动化测试.assets/image-20220408001601880.png)

![image-20220408001654306](自动化测试.assets/image-20220408001654306.png)







