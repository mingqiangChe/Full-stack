<!DOCTYPE html>
<html lang="en">
  使用突变观察器观察给定元素上的突变。
  使用Array.prototype.forEach()为观察到的每个突变运行回调。
  省略第三个参数，选项，以使用默认选项（均为真）。
  <script>
    const observeMutations = (element, callback, options) => {
      const observer = new MutationObserver((mutations) =>
        mutations.forEach((m) => callback(m))
      )
      observer.observe(
        element,
        Object.assign(
          {
            childList: true,
            attributes: true,
            attributeOldValue: true,
            characterData: true,
            characterDataOldValue: true,
            subtree: true,
          },
          options
        )
      )
      return observer
    }

    const obs = observeMutations(document, console.log)
    // Logs all mutations that happen on the page
    obs.disconnect()
    // Disconnects the observer and stops logging mutations on the page
  </script>
</html>
