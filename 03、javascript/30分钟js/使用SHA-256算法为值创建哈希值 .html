<!DOCTYPE html>
<html lang="en">
  回报一个承诺。 使用crypto.createHash()使用适当的算法创建哈希对象。
  使用hash.update()将数据从val添加到Hash，hash.digest()计算数据摘要。
  使用setTimeout()来防止长时间操作的阻塞，并返回一个Promise来给它一个熟悉的界面。
  <script>
    const crypto = require("crypto")

    const hashNode = (val) =>
      new Promise((resolve) =>
        setTimeout(
          () => resolve(crypto.createHash("sha256").update(val).digest("hex")),
          0
        )
      )

    hashNode(
      JSON.stringify({ a: "a", b: [1, 2, 3, 4], foo: { c: "bar" } })
    ).then(console.log)
    // '04aa106279f5977f59f9067fa9712afc4aedc6f5862a8defc34552d8c7206393'
  </script>
</html>
