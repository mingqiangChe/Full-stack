<!DOCTYPE html>
<html lang="en">
  使用递归，每个深度级别的深度降低1。
  使用Array.prototype.reduce()和Array.prototype.concat()合并元素或数组。
  基本情况，深度等于1停止递归。 省略第二个论点，深度，只扁平到1的深度（单平）
  <script>
    const flatten = (arr, depth = 1) =>
      arr.reduce(
        (a, v) =>
          a.concat(depth > 1 && Array.isArray(v) ? flatten(v, depth - 1) : v),
        []
      )

    flatten([1, [2], 3, 4]) // [1, 2, 3, 4]
    flatten([1, [2, [3, [4, 5], 6], 7], 8], 2) // [1, 2, 3, [4, 5], 6, 7, 8]
  </script>
</html>
