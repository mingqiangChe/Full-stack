<!DOCTYPE html>
<html lang="en">
  <!-- 在给定的可迭代器上使用for...of循环，使用Array.prototype.push()将每个新值添加到当前块中。 -->

  <!-- 使用Array.prototype.length检查当前块是否达到所需的大小，如果是，则生成值。 -->

  <!-- 最后，使用Array.prototype.length检查最终块，如果是非空的，则生成它。 -->
  <script>
    const chunkify = function* (itr, size) {
      let chunk = []
      for (const v of itr) {
        chunk.push(v)
        if (chunk.length === size) {
          yield chunk
          chunk = []
        }
      }
      if (chunk.length) yield chunk
    }
    const x = new Set([1, 2, 1, 3, 4, 1, 2, 5])
    [...chunkify(x, 2)] // [[1, 2], [3, 4], [5]]
  </script>
</html>
