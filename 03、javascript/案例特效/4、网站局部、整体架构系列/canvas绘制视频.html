<!--
 * @Descripttion: 
 * @version: 
 * @Author: sueRimn
 * @Date: 2021-11-26 11:15:11
 * @LastEditors: sueRimn
 * @LastEditTime: 2021-11-26 11:17:07
-->
<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>HTML5-Video播放视频，canvas绘制视频</title>
</head>

<body>
  <p>左侧为HTML5-video标签播放的视频，右侧为canvas绘制的视频</p>

  <video id="myvideo" controls width="270" autoplay="autoplay" muted>
    <source src="./11.mp4" type='video/mp4'>
  </video>

  <canvas id="myCanvas" width="270" height="135" style="border:1px solid #d3d3d3;">
    Your browser does not support the HTML5 canvas tag.
  </canvas>
  <script>
    var v = document.getElementById("myvideo");
    var c = document.getElementById("myCanvas");
    ctx = c.getContext('2d');
    // 每 20 毫秒，代码就会绘制视频的当前帧
    v.addEventListener('play', function () {//播放
      var i = window.setInterval(function () {
        ctx.drawImage(v, 0, 0, 270, 135);
      }, 20);
    }, false);
    v.addEventListener('pause', function () {//暂停
      window.clearInterval(i);
    }, false);
    v.addEventListener('ended', function () {//结束
      clearInterval(i);
    }, false);

  </script>
</body>

</html>