<!DOCTYPE html>
<html lang="en">
  从每个数组创建一个新的Set()，以便在将fn应用于数组后获取每个数组的唯一值。
  在每个上使用Array.prototype.filter()，只保留另一个不包含的值
  <script>
    const symmetricDifferenceBy = (a, b, fn) => {
      const sA = new Set(a.map((v) => fn(v))),
        sB = new Set(b.map((v) => fn(v)))
      return [
        ...a.filter((x) => !sB.has(fn(x))),
        ...b.filter((x) => !sA.has(fn(x))),
      ]
    }

    symmetricDifferenceBy([2.1, 1.2], [2.3, 3.4], Math.floor) // [ 1.2, 3.4 ]
    symmetricDifferenceBy(
      [{ id: 1 }, { id: 2 }, { id: 3 }],
      [{ id: 1 }, { id: 2 }, { id: 4 }],
      (i) => i.id
    )
    // [{ id: 3 }, { id: 4 }]
  </script>
</html>
