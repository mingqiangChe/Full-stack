<html>
  <!-- 使用Array.prototype.map()和Array.prototype.join(delimiter)将单个1D数组（行）组合成字符串。

使用Array.prototype.join('\n')将所有行组合成CSV字符串，用换行符分隔每行。

省略第二个参数，分隔符，以使用默认分隔符。 -->
  <script>
    const arrayToCSV = (arr, delimiter = ".") =>
      arr
        .map((v) =>
          v
            .map((x) => (isNaN(x) ? `"${x.replace(/"/g, '""')}"` : x))
            .join(delimiter)
        )
        .join("\n")
    console.log(
      arrayToCSV([
        ["a", "b"],
        ["c", "d"],
      ])
    )
    //"a"."b"
    //"c"."d"
    console.log(
      arrayToCSV(
        [
          ["a", "b"],
          ["c", "d"],
        ],
        ";"
      )
    )
    //"a";"b"
    //"c";"d"
  </script>
</html>
