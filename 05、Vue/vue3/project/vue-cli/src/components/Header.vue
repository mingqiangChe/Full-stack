// å¤´éƒ¨
<template>
  <div class="todo-header">
    <!-- æŒ‰é”®è°ƒç”¨æ·»åŠ æ•°æ®æ–¹æ³•ğŸ¥ -->
    <input type="text" placeholder="è¯·è¾“å…¥ä½ çš„ä»»åŠ¡åç§°ï¼ŒæŒ‰å›è½¦é”®ç¡®è®¤" @keydown.enter="add" v-model="title">
  </div>
</template>
<script lang='ts'>
import {defineComponent, ref} from 'vue'
export default defineComponent({
  name: 'Header',
  props: {
    // æ¥æ”¶appçˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„å±æ€§æ–¹æ³•ğŸ¥
    addTodo: {
      type: Function,
      require: true // å¿…é¡»è¦ä¼ 
    }
  },
  // ä½¿ç”¨ä¼ è¿‡æ¥è°ƒç”¨addtodoæ–¹æ³•å¿…é¡»ä½¿ç”¨propsğŸğŸğŸğŸ
  setup(props) {
    // æ‹¿åˆ°æ–‡æœ¬æ¡†è¾“å…¥å†…å®¹ v-model  
    // å®šä¹‰refç±»å‹æ•°æ®
    const title = ref('')
    // å›è½¦çš„äº‹ä»¶çš„å›è°ƒå‡½æ•°ï¼Œç”¨æ¥æ·»åŠ æ•°æ®
    const add = () => {``
    //åˆ¤æ–­æ•°æ®æœ‰æ— 
      if (!title.value.trim()) return;
      // è°ƒç”¨addtodoæ–¹æ³•ä¼ å…¥æ•°æ®ğŸŒğŸŒğŸŒ
      props.addTodo?.({
        id: Date.now(),
        title: title.value,
        isCompleted: false
      })
      // æ¸…ç©ºæ–‡æœ¬æ¡†
      title.value = ''
    }
    return {
      title,
      add,
    }
  }
})
</script>
<style scoped>
.todo-header input {
  width: 560px;
  height: 28px;
  font-size: 14px;
  border: 1px solid #ccc;
  border-radius: 4px;
  padding: 4px 7px;
}
.todo-header input:focus {
  outline: none;
  border-color: rgba(82, 168, 236, 0.8);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);
}
</style>
