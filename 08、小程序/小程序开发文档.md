## 小程序开发文档

## 开发流程

1、注册小程序账号  

appid：wx1f29ca0d459abd1a

注意 还有企业级（才能开发商城）

2、安装开发者工具

vscode开发配合微信开发者工具浏览

3、开发/测试/上传代码（上传到微信服务器）

框架。iview  mpvue  vant等

4、提交审核

5、发布上线

在mp.weixin.qq.com企业账号或个人账号中。通过微信开发工具右边上传跳转

6、错误查询/性能监控 登录官网--开发--运维中心

## 结构

| 文件类型                                                     | 必需 | 作用       |
| :----------------------------------------------------------- | :--- | :--------- |
| [js](https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html) | 是   | 页面逻辑   |
| [wxml](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/) | 是   | 页面结构   |
| [json](https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#页面配置) | 否   | 页面配置   |
| [wxss](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html) | 否   | 页面样式表 |

wxss：小程序尺寸单位rpx **可以根据屏幕宽度进行自适应** 规定屏幕宽度750rpx

就近原则影响样式   尽量以iphone6（375px）为基准 1rpx=0.5px =1物理像素。

第三方样式引入 @important url（./test.css） 

宽度一定高度自适应 **文档** mode方式[image | 微信开放文档 (qq.com)](https://developers.weixin.qq.com/miniprogram/dev/component/image.html)

js：页面作用域独立

#### 页面配置

#### [全局配置 | 微信开放文档 (qq.com)](https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html)

**在app.json中 全局配置文件**

> pages[pages | 微信开放文档 (qq.com)](https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#pages)

配置页面路径后会自动创建页面。配置页面路径的顺序决定显示顺序

> windows[window | 微信开放文档 (qq.com)](https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#window)

定义小程序所有页面的顶部背景颜色 文字颜色 以及相关设置等

> tabbar[tabbar | 微信开放文档 (qq.com)](https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabBar)

pagePath 页面路径

Text 名称

iconPath 未被选中状态

selectedIconPath 被选中状态

```
"tabBar": {

    "list": [{

      "pagePath": "pagePath",

      "text": "text",

      "iconPath": "iconPath",

      "selectedIconPath": "selectedIconPath"

    }]
```



tabbar样式相关配置在list下面配置代码



> sitemap[sitemap 配置 | 微信开放文档 (qq.com)](https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html)

用于配置小程序及其页面是否允许被微信索引。

## 模版语法





赋值；

this.setData({

Num:e.detail.value

})

Block配合if。for 条件渲染



### 事件绑定

冒泡事件。bind

非冒泡事件。catch

type  事件类型。 timestamp页面打开到触发事件所经过毫秒数。 

Target。触发事件源组件。 

currentTarget 事件绑定的当前组件



### 轮播图使用点

有默认高度

给swiper设置



### for循环

key绑定*this

```
wx:key="*this"
```

```
wx:key="id"
```



### 跳转

w x.switchTab 跳转到tabbar页面 并关闭其他tabbar页面

wx.navigateTo 保留当前页面，跳转到应用内某个页面 **但不能跳转到tabbar页面**可以使用wx.navigateBack返回原页面

## 生命周期

onLoad。监听页面加载。**只在页面初始化时加载一次**

onShow 监听页面显示。**每次显示页面都会执行**。 可以多次执行

onReady  监听页面初次渲染完成

onHide 监听页面隐藏

onUnload 监听页面卸载

## request

轮播图

```
https://www.easy-mock.com/mock/5c2b2992f2332405dd956d1e/zhufeng/getSliders
```

课程列表

```
https://www.easy-mock.com/mock/5c2b2992f2332405dd956d1e/zhufeng/getLessons
```

 全局app

```
base_url:"https://www.easy-mock.com/mock/5c2b2992f2332405dd956d1e/zhufeng",
```

页面

```
const app = getApp();
console.log(app);
```

请求方法 

```
this.getSwiper(
  wx.request({
    url: app.base_url+'/getSliders',
    // 注意 this指针问题
    success:(res)=>{
console.log(res); 
    },
    fail:(res)=>{

    },
    // 不论成功失败都会执行
    complete:(res)=>{

    }
  })
);
```





注意：在全局app.js配置方法或参数之后均可使用一下方法调用或使用

```
const app = getApp();
console.log(app);


app.fn();
app.baseUrl+'/zz'
```

